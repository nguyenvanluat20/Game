var GameManager=pc.createScript("gameManager");GameManager.attributes.add("player",{type:"entity"}),GameManager.attributes.add("platform",{type:"entity"}),GameManager.attributes.add("minX",{type:"number"}),GameManager.attributes.add("maxX",{type:"number"}),GameManager.attributes.add("minY",{type:"number"}),GameManager.attributes.add("maxY",{type:"number"}),GameManager.prototype.initialize=function(){this.currentPlayer=null,this.platformList=[],this.createInitialPlatformAndPlayer()},GameManager.prototype.update=function(t){},GameManager.prototype.createInitialPlatformAndPlayer=function(){const t=pc.math.random(this.minX,this.minX+1),a=pc.math.random(this.minY,this.maxY);let e=new pc.Vec3(t,a,0);const r=this.platform.clone();this.app.root.addChild(r),r.setPosition(e),this.platformList.push(r),e.y+=1.8,this.currentPlayer=this.player.clone(),this.app.root.addChild(this.currentPlayer),this.currentPlayer.setPosition(e),this.currentPlayer.enabled=!0};var Player=pc.createScript("player");Player.attributes.add("thresholdX",{type:"number",default:7}),Player.attributes.add("thresholdY",{type:"number",default:14}),Player.prototype.initialize=function(){this.forceX=0,this.forceY=0,this.setPower=!1;var t=this.app.touch;t?(t.on(pc.EVENT_TOUCHSTART,this.onUserPressDown,this),t.on(pc.EVENT_TOUCHSEND,this.onUserPressUp,this)):(this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onUserPressDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onUserPressUp,this)),this.on("destroy",(function(){t?(t.off(pc.EVENT_TOUCHSTART,this.onUserPressDown,this),t.off(pc.EVENT_TOUCHSEND,this.onUserPressUp,this)):(this.off.mouse.on(pc.EVENT_MOUSEDOWN,this.onUserPressDown,this),this.off.mouse.on(pc.EVENT_MOUSEUP,this.onUserPressUp,this))}),this)},Player.prototype.update=function(t){this.onSetPower(t)},Player.prototype.onSetPower=function(t){this.setPower&&(this.forceX+=this.thresholdX*t,this.forceY+=this.thresholdY*t,this.forceX>this.thresholdX&&(this.forceX=this.thresholdX),this.forceY>this.thresholdY&&(this.forceY=this.thresholdY),console.log(this.forceX))},Player.prototype.onUserPressDown=function(){this.setPower=!0},Player.prototype.onUserPressUp=function(){this.setPower=!1,this.jump()},Player.prototype.jump=function(){this.entity.rigidbody.linearVelocity=new pc.Vec3(this.forceX,this.forceY,0),this.forceX=this.forceY=0};var LandTrigger=pc.createScript("landTrigger");LandTrigger.prototype.initialize=function(){},LandTrigger.prototype.update=function(r){};